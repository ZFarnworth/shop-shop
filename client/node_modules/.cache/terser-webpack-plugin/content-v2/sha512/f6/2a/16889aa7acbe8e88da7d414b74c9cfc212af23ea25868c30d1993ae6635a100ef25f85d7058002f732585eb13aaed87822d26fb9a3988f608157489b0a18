{"map":{"version":3,"sources":["static/js/main.6d7702d1.chunk.js"],"names":["this","push","37","module","exports","__webpack_require__","p","53","58","68","69","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","react_router_dom","react_router","react_common_esm","bundle_esm","react_hooks_esm","objectSpread2","idbPromise","storeName","method","object","Promise","resolve","reject","db","tx","store","request","window","indexedDB","open","onupgradeneeded","e","result","createObjectStore","keyPath","onerror","console","log","onsuccess","transaction","objectStore","put","all","getAll","delete","_id","oncomplete","close","es","components_ProductItem","item","image","name","price","quantity","dispatch","Object","cart","state","a","createElement","className","to","concat","alt","src","count","pluralize","onClick","itemInCart","find","cartItem","type","purchaseQuantity","parseInt","product","taggedTemplateLiteral","graphql_tag_src","graphql_tag_src_default","_templateObject5","data","_templateObject4","_templateObject3","_templateObject2","_templateObject","QUERY_PRODUCTS","QUERY_CATEGORIES","QUERY_USER","QUERY_CHECKOUT","spinner","spinner_default","components_ProductList","currentCategory","_useQuery","loading","products","forEach","then","length","filter","category","map","key","components_CategoryMenu","categories","categoryData","id","regenerator","regenerator_default","toConsumableArray","asyncToGenerator","slicedToArray","components_CartItem","_ref","placeholder","value","onChange","target","role","aria-label","removeFromCart","classCallCheck","createClass","lib","lib_default","auth","AuthService","getToken","token","isTokenExpired","exp","Date","now","err","localStorage","getItem","idToken","setItem","location","assign","removeItem","stripe_esm","stripePromise","components_Cart","_useLazyQuery","_useLazyQuery2","getCheckout","toggleCart","_getCart","mark","_callee","wrap","_context","prev","next","sent","stop","apply","arguments","getCart","res","redirectToCheckout","sessionId","checkout","session","cartOpen","sum","toFixed","calculateTotal","loggedIn","productIds","i","variables","pages_Home","pages_Detail","_useState","_useState2","currentProduct","setCurrentProduct","indexedProducts","Fragment","description","disabled","components_Jumbotron","children","style","height","clear","paddingTop","textAlign","pages_NoMatch","defineProperty","mutations_templateObject3","mutations_templateObject2","mutations_templateObject","LOGIN","ADD_ORDER","ADD_USER","pages_Login","props","email","password","formState","setFormState","_useMutation","_useMutation2","login","error","handleFormSubmit","event","mutationResponse","preventDefault","t0","_x","handleChange","_event$target","onSubmit","htmlFor","pages_Signup","addUser","firstName","lastName","components_Nav","href","logout","pages_Success","addOrder","_saveOrder","_yield$addOrder","setTimeout","saveOrder","pages_OrderHistory","user","orders","order","purchaseDate","toLocaleDateString","index","redux","initialState","utils_reducers","undefined","action","newState","client","operation","setContext","headers","authorization","uri","src_App","exact","path","component","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","render","StrictMode","document","getElementById","URL","origin","addEventListener","fetch","Service-Worker","response","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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"},"code":"(this[\"webpackJsonpmern-client\"]=this[\"webpackJsonpmern-client\"]||[]).push([[0],{37:function(e,t,a){e.exports=a.p+\"static/media/spinner.ab497855.gif\"},53:function(e,t,a){e.exports=a(69)},58:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){\"use strict\";a.r(t);var n=a(0),r=a.n(n),c=a(32),o=a.n(c),i=(a(58),a(9)),l=a(6),u=a(13),s=a(52),m=a(11),d=a(4);function p(e,t,a){return new Promise((function(n,r){var c,o,i,l=window.indexedDB.open(\"shop-shop\",1);l.onupgradeneeded=function(e){var t=l.result;t.createObjectStore(\"products\",{keyPath:\"_id\"}),t.createObjectStore(\"categories\",{keyPath:\"_id\"}),t.createObjectStore(\"cart\",{keyPath:\"_id\"})},l.onerror=function(e){console.log(\"There was an error\")},l.onsuccess=function(r){switch(c=l.result,o=c.transaction(e,\"readwrite\"),i=o.objectStore(e),c.onerror=function(e){console.log(\"error\",e)},t){case\"put\":i.put(a),n(a);break;case\"get\":var u=i.getAll();u.onsuccess=function(){n(u.result)};break;case\"delete\":i.delete(a._id);break;default:console.log(\"No valid method\")}o.oncomplete=function(){c.close()}}}))}var f=a(7);var E=function(e){var t=e.image,a=e.name,n=e._id,c=e.price,o=e.quantity,l=Object(f.b)(),u=Object(f.c)((function(e){return e})).cart;return r.a.createElement(\"div\",{className:\"card px-1 py-1\"},r.a.createElement(i.b,{to:\"/products/\".concat(n)},r.a.createElement(\"img\",{alt:a,src:\"/images/\".concat(t)}),r.a.createElement(\"p\",null,a)),r.a.createElement(\"div\",null,r.a.createElement(\"div\",null,o,\" \",function(e,t){return 1===t?e:e+\"s\"}(\"item\",o),\" in stock\"),r.a.createElement(\"span\",null,\"$\",c)),r.a.createElement(\"button\",{onClick:function(){var t=u.find((function(e){return e._id===n}));t?(l({type:\"UPDATE_CART_QUANTITY\",_id:n,purchaseQuantity:parseInt(t.purchaseQuantity)+1}),p(\"cart\",\"put\",Object(d.a)(Object(d.a)({},t),{},{purchaseQuantity:parseInt(t.purchaseQuantity)+1}))):(l({type:\"ADD_TO_CART\",product:Object(d.a)(Object(d.a)({},e),{},{purchaseQuantity:1})}),p(\"cart\",\"put\",Object(d.a)(Object(d.a)({},e),{},{purchaseQuantity:1})))}},\"Add to cart\"))},b=a(23),g=a(19),h=a.n(g);function v(){var e=Object(b.a)([\"\\n  query getCheckout($products: [ID]!) {\\n    checkout(products: $products) {\\n      session\\n    }\\n  }\\n\"]);return v=function(){return e},e}function O(){var e=Object(b.a)([\"\\n{\\n  user {\\n    firstName\\n    lastName\\n    orders {\\n      _id\\n      purchaseDate\\n      products {\\n        _id\\n        name\\n        description\\n        price\\n        quantity\\n        image\\n      }\\n    }\\n  }\\n}\\n\"]);return O=function(){return e},e}function y(){var e=Object(b.a)([\"\\n{\\n  categories {\\n    _id\\n    name\\n  }\\n}\\n\"]);return y=function(){return e},e}function j(){var e=Object(b.a)([\"\\n  {\\n    products {\\n      _id\\n      name\\n      description\\n      price\\n      quantity\\n      category {\\n        name\\n      }\\n    }\\n  }\\n\"]);return j=function(){return e},e}function w(){var e=Object(b.a)([\"\\n  query getProducts($category: ID) {\\n    products(category: $category) {\\n      _id\\n      name\\n      description\\n      price\\n      quantity\\n      image\\n      category {\\n        _id\\n      }\\n    }\\n  }\\n\"]);return w=function(){return e},e}var _=h()(w()),T=(h()(j()),h()(y())),k=h()(O()),N=h()(v()),C=a(37),A=a.n(C);var x=function(){var e=Object(f.b)(),t=Object(f.c)((function(e){return e})),a=t.currentCategory,c=Object(m.c)(_),o=c.loading,i=c.data;return Object(n.useEffect)((function(){i?(e({type:\"UPDATE_PRODUCTS\",products:i.products}),i.products.forEach((function(e){p(\"products\",\"put\",e)}))):o||p(\"products\",\"get\").then((function(t){e({type:\"UPDATE_PRODUCTS\",products:t})}))}),[i,o,e]),r.a.createElement(\"div\",{className:\"my-2\"},r.a.createElement(\"h2\",null,\"Our Products:\"),t.products.length?r.a.createElement(\"div\",{className:\"flex-row\"},(a?t.products.filter((function(e){return e.category._id===a})):t.products).map((function(e){return r.a.createElement(E,{key:e._id,_id:e._id,image:e.image,name:e.name,price:e.price,quantity:e.quantity})}))):r.a.createElement(\"h3\",null,\"You haven't added any products yet!\"),o?r.a.createElement(\"img\",{src:A.a,alt:\"loading\"}):null)};var R=function(){var e=Object(f.b)(),t=Object(f.c)((function(e){return e})).categories,a=Object(m.c)(T),c=a.loading,o=a.data;return Object(n.useEffect)((function(){o?(e({type:\"UPDATE_CATEGORIES\",categories:o.categories}),o.categories.forEach((function(e){p(\"categories\",\"put\",e)}))):c||p(\"categories\",\"get\").then((function(t){e({type:\"UPDATE_CATEGORIES\",categories:t})}))}),[o,c,e]),r.a.createElement(\"div\",null,r.a.createElement(\"h2\",null,\"Choose a Category:\"),t.map((function(t){return r.a.createElement(\"button\",{key:t._id,onClick:function(){var a;a=t._id,e({type:\"UPDATE_CURRENT_CATEGORY\",currentCategory:a})}},t.name)})))},D=a(20),S=a.n(D),P=a(25),U=a(24),I=a(18),Q=function(e){var t=e.item,a=Object(f.b)();return r.a.createElement(\"div\",{className:\"flex-row\"},r.a.createElement(\"div\",null,r.a.createElement(\"img\",{src:\"/images/\".concat(t.image),alt:\"\"})),r.a.createElement(\"div\",null,r.a.createElement(\"div\",null,t.name,\", $\",t.price),r.a.createElement(\"div\",null,r.a.createElement(\"span\",null,\"Qty:\"),r.a.createElement(\"input\",{type:\"number\",placeholder:\"1\",value:t.purchaseQuantity,onChange:function(e){var n=e.target.value;\"0\"===n?(a({type:\"REMOVE_FROM_CART\",_id:t._id}),p(\"cart\",\"delete\",Object(d.a)({},t))):(a({type:\"UPDATE_CART_QUANTITY\",_id:t._id,purchaseQuantity:parseInt(n)}),p(\"cart\",\"put\",Object(d.a)(Object(d.a)({},t),{},{purchaseQuantity:parseInt(n)})))}}),r.a.createElement(\"span\",{role:\"img\",\"aria-label\":\"trash\",onClick:function(){return function(e){a({type:\"REMOVE_FROM_CART\",_id:e._id}),p(\"cart\",\"delete\",Object(d.a)({},e))}(t)}},\"\\ud83d\\uddd1\\ufe0f\"))))},$=a(49),F=a(50),L=a(42),q=a.n(L),M=new(function(){function e(){Object($.a)(this,e)}return Object(F.a)(e,[{key:\"getProfile\",value:function(){return q()(this.getToken())}},{key:\"loggedIn\",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:\"isTokenExpired\",value:function(e){try{return q()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:\"getToken\",value:function(){return localStorage.getItem(\"id_token\")}},{key:\"login\",value:function(e){localStorage.setItem(\"id_token\",e),window.location.assign(\"/\")}},{key:\"logout\",value:function(){localStorage.removeItem(\"id_token\"),window.location.assign(\"/\")}}]),e}()),G=(a(68),a(51)),Y=Object(G.a)(\"pk_test_TYooMQauvdEDq54NiTphI7jx\"),W=function(){var e=Object(f.b)(),t=Object(f.c)((function(e){return e})),a=Object(m.a)(N),c=Object(I.a)(a,2),o=c[0],i=c[1].data;function l(){e({type:\"TOGGLE_CART\"})}if(Object(n.useEffect)((function(){function a(){return(a=Object(U.a)(S.a.mark((function t(){var a;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(\"cart\",\"get\");case 2:a=t.sent,e({type:\"ADD_MULTIPLE_TO_CART\",products:Object(P.a)(a)});case 4:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}t.cart.length||function(){a.apply(this,arguments)}()}),[t.cart.length,e]),Object(n.useEffect)((function(){i&&Y.then((function(e){e.redirectToCheckout({sessionId:i.checkout.session})}))}),[i]),!t.cartOpen)return r.a.createElement(\"div\",{className:\"cart-closed\",onClick:l},r.a.createElement(\"span\",{role:\"img\",\"aria-label\":\"trash\"},\"\\ud83d\\uded2\"));return r.a.createElement(\"div\",{className:\"cart\"},r.a.createElement(\"div\",{className:\"close\",onClick:l},\"[close]\"),r.a.createElement(\"h2\",null,\"Shopping Cart\"),t.cart.length?r.a.createElement(\"div\",null,t.cart.map((function(e){return r.a.createElement(Q,{key:e._id,item:e})})),r.a.createElement(\"div\",{className:\"flex-row space-between\"},r.a.createElement(\"strong\",null,\"Total: $\",function(){var e=0;return t.cart.forEach((function(t){e+=t.price*t.purchaseQuantity})),e.toFixed(2)}()),M.loggedIn()?r.a.createElement(\"button\",{onClick:function(){var e=[];t.cart.forEach((function(t){for(var a=0;a<t.purchaseQuantity;a++)e.push(t._id)})),o({variables:{products:e}})}},\"Checkout\"):r.a.createElement(\"span\",null,\"(log in to check out)\"))):r.a.createElement(\"h3\",null,r.a.createElement(\"span\",{role:\"img\",\"aria-label\":\"shocked\"},\"\\ud83d\\ude31\"),\"You haven't added anything to your cart yet!\"))},B=function(){return r.a.createElement(\"div\",{className:\"container\"},r.a.createElement(R,null),r.a.createElement(x,null),r.a.createElement(W,null))};var H=function(){var e=Object(f.b)(),t=Object(f.c)((function(e){return e})),a=Object(l.f)().id,c=Object(n.useState)({}),o=Object(I.a)(c,2),u=o[0],s=o[1],E=Object(m.c)(_),b=E.loading,g=E.data,h=t.products,v=t.cart;return Object(n.useEffect)((function(){h.length?s(h.find((function(e){return e._id===a}))):g?(e({type:\"UPDATE_PRODUCTS\",products:g.products}),g.products.forEach((function(e){p(\"products\",\"put\",e)}))):b||p(\"products\",\"get\").then((function(t){e({type:\"UPDATE_PRODUCTS\",products:t})}))}),[h,g,b,e,a]),r.a.createElement(r.a.Fragment,null,u?r.a.createElement(\"div\",{className:\"container my-1\"},r.a.createElement(i.b,{to:\"/\"},\"\\u2190 Back to Products\"),r.a.createElement(\"h2\",null,u.name),r.a.createElement(\"p\",null,u.description),r.a.createElement(\"p\",null,r.a.createElement(\"strong\",null,\"Price:\"),\"$\",u.price,\" \",r.a.createElement(\"button\",{onClick:function(){var t=v.find((function(e){return e._id===a}));t?(e({type:\"UPDATE_CART_QUANTITY\",_id:a,purchaseQuantity:parseInt(t.purchaseQuantity)+1}),p(\"cart\",\"put\",Object(d.a)(Object(d.a)({},t),{},{purchaseQuantity:parseInt(t.purchaseQuantity)+1}))):(e({type:\"ADD_TO_CART\",product:Object(d.a)(Object(d.a)({},u),{},{purchaseQuantity:1})}),p(\"cart\",\"put\",Object(d.a)(Object(d.a)({},u),{},{purchaseQuantity:1})))}},\"Add to cart\"),r.a.createElement(\"button\",{disabled:!v.find((function(e){return e._id===u._id})),onClick:function(){e({type:\"REMOVE_FROM_CART\",_id:u._id}),p(\"cart\",\"delete\",Object(d.a)({},u))}},\"Remove from Cart\")),r.a.createElement(\"img\",{src:\"/images/\".concat(u.image),alt:u.name})):null,b?r.a.createElement(\"img\",{src:A.a,alt:\"loading\"}):null,r.a.createElement(W,null))};var V=function(e){var t=e.children;return r.a.createElement(\"div\",{style:{height:560,clear:\"both\",paddingTop:120,textAlign:\"center\"}},t)},J=function(){return r.a.createElement(\"div\",null,r.a.createElement(V,null,r.a.createElement(\"h1\",null,\"404 Page Not Found\"),r.a.createElement(\"h1\",null,r.a.createElement(\"span\",{role:\"img\",\"aria-label\":\"Face With Rolling Eyes Emoji\"},\"\\ud83d\\ude44\"))))},z=a(27);function K(){var e=Object(b.a)([\"\\n  mutation addUser($firstName: String!, $lastName: String!, $email: String!, $password: String!) {\\n    addUser(firstName: $firstName, lastName: $lastName, email: $email, password: $password) {\\n      token\\n      user {\\n        _id\\n      }\\n    }\\n  }\\n\"]);return K=function(){return e},e}function X(){var e=Object(b.a)([\"\\n  mutation addOrder($products: [ID]!) {\\n    addOrder(products: $products) {\\n      purchaseDate\\n      products {\\n        _id\\n      name\\n      description\\n      price\\n      quantity\\n      category {\\n        name\\n      } \\n      }\\n    }\\n  }\\n\"]);return X=function(){return e},e}function Z(){var e=Object(b.a)([\"\\n  mutation login($email: String!, $password: String!) {\\n    login(email: $email, password: $password) {\\n      token\\n      user {\\n        _id\\n      }\\n    }\\n  }\\n\"]);return Z=function(){return e},e}var ee=h()(Z()),te=h()(X()),ae=h()(K());var ne=function(e){var t=Object(n.useState)({email:\"\",password:\"\"}),a=Object(I.a)(t,2),c=a[0],o=a[1],l=Object(m.b)(ee),u=Object(I.a)(l,2),s=u[0],p=u[1].error,f=function(){var e=Object(U.a)(S.a.mark((function e(t){var a,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,s({variables:{email:c.email,password:c.password}});case 4:a=e.sent,n=a.data.login.token,M.login(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case\"end\":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),E=function(e){var t=e.target,a=t.name,n=t.value;o(Object(d.a)(Object(d.a)({},c),{},Object(z.a)({},a,n)))};return r.a.createElement(\"div\",{className:\"container my-1\"},r.a.createElement(i.b,{to:\"/signup\"},\"\\u2190 Go to Signup\"),r.a.createElement(\"h2\",null,\"Login\"),r.a.createElement(\"form\",{onSubmit:f},r.a.createElement(\"div\",{className:\"flex-row space-between my-2\"},r.a.createElement(\"label\",{htmlFor:\"email\"},\"Email address:\"),r.a.createElement(\"input\",{placeholder:\"youremail@test.com\",name:\"email\",type:\"email\",id:\"email\",onChange:E})),r.a.createElement(\"div\",{className:\"flex-row space-between my-2\"},r.a.createElement(\"label\",{htmlFor:\"pwd\"},\"Password:\"),r.a.createElement(\"input\",{placeholder:\"******\",name:\"password\",type:\"password\",id:\"pwd\",onChange:E})),p?r.a.createElement(\"div\",null,r.a.createElement(\"p\",{className:\"error-text\"},\"The provided credentials are incorrect\")):null,r.a.createElement(\"div\",{className:\"flex-row flex-end\"},r.a.createElement(\"button\",{type:\"submit\"},\"Submit\"))))};var re=function(e){var t=Object(n.useState)({email:\"\",password:\"\"}),a=Object(I.a)(t,2),c=a[0],o=a[1],l=Object(m.b)(ae),u=Object(I.a)(l,1)[0],s=function(){var e=Object(U.a)(S.a.mark((function e(t){var a,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,u({variables:{email:c.email,password:c.password,firstName:c.firstName,lastName:c.lastName}});case 3:a=e.sent,n=a.data.addUser.token,M.login(n);case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(e){var t=e.target,a=t.name,n=t.value;o(Object(d.a)(Object(d.a)({},c),{},Object(z.a)({},a,n)))};return r.a.createElement(\"div\",{className:\"container my-1\"},r.a.createElement(i.b,{to:\"/login\"},\"\\u2190 Go to Login\"),r.a.createElement(\"h2\",null,\"Signup\"),r.a.createElement(\"form\",{onSubmit:s},r.a.createElement(\"div\",{className:\"flex-row space-between my-2\"},r.a.createElement(\"label\",{htmlFor:\"firstName\"},\"First Name:\"),r.a.createElement(\"input\",{placeholder:\"First\",name:\"firstName\",type:\"firstName\",id:\"firstName\",onChange:p})),r.a.createElement(\"div\",{className:\"flex-row space-between my-2\"},r.a.createElement(\"label\",{htmlFor:\"lastName\"},\"Last Name:\"),r.a.createElement(\"input\",{placeholder:\"Last\",name:\"lastName\",type:\"lastName\",id:\"lastName\",onChange:p})),r.a.createElement(\"div\",{className:\"flex-row space-between my-2\"},r.a.createElement(\"label\",{htmlFor:\"email\"},\"Email:\"),r.a.createElement(\"input\",{placeholder:\"youremail@test.com\",name:\"email\",type:\"email\",id:\"email\",onChange:p})),r.a.createElement(\"div\",{className:\"flex-row space-between my-2\"},r.a.createElement(\"label\",{htmlFor:\"pwd\"},\"Password:\"),r.a.createElement(\"input\",{placeholder:\"******\",name:\"password\",type:\"password\",id:\"pwd\",onChange:p})),r.a.createElement(\"div\",{className:\"flex-row flex-end\"},r.a.createElement(\"button\",{type:\"submit\"},\"Submit\"))))};var ce=function(){return r.a.createElement(\"header\",{className:\"flex-row px-1\"},r.a.createElement(\"h1\",null,r.a.createElement(i.b,{to:\"/\"},r.a.createElement(\"span\",{role:\"img\",\"aria-label\":\"shopping bag\"},\"\\ud83d\\udecd\\ufe0f\"),\"-Shop-Shop\")),r.a.createElement(\"nav\",null,M.loggedIn()?r.a.createElement(\"ul\",{className:\"flex-row\"},r.a.createElement(\"li\",{className:\"mx-1\"},r.a.createElement(i.b,{to:\"/orderHistory\"},\"Order History\")),r.a.createElement(\"li\",{className:\"mx-1\"},r.a.createElement(\"a\",{href:\"/\",onClick:function(){return M.logout()}},\"Logout\"))):r.a.createElement(\"ul\",{className:\"flex-row\"},r.a.createElement(\"li\",{className:\"mx-1\"},r.a.createElement(i.b,{to:\"/signup\"},\"Signup\")),r.a.createElement(\"li\",{className:\"mx-1\"},r.a.createElement(i.b,{to:\"/login\"},\"Login\")))))};var oe=function(){var e=Object(m.b)(te),t=Object(I.a)(e,1)[0];return Object(n.useEffect)((function(){function e(){return(e=Object(U.a)(S.a.mark((function e(){var a,n,r,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(\"cart\",\"get\");case 2:if(a=e.sent,!(n=a.map((function(e){return e._id}))).length){e.next=11;break}return e.next=7,t({variables:{products:n}});case 7:r=e.sent,c=r.data,c.addOrder.products.forEach((function(e){p(\"cart\",\"delete\",e)}));case 11:setTimeout((function(){window.location.assign(\"/\")}),3e3);case 12:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),r.a.createElement(\"div\",null,r.a.createElement(V,null,r.a.createElement(\"h1\",null,\"Success!\"),r.a.createElement(\"h2\",null,\"Thank you for your purchase!\"),r.a.createElement(\"h2\",null,\"You will now be redirected to the homepage\")))};var ie=function(){var e,t=Object(m.c)(k).data;return t&&(e=t.user),r.a.createElement(r.a.Fragment,null,r.a.createElement(\"div\",{className:\"container my-1\"},r.a.createElement(i.b,{to:\"/\"},\"\\u2190 Back to Products\"),e?r.a.createElement(r.a.Fragment,null,r.a.createElement(\"h2\",null,\"Order History for \",e.firstName,\" \",e.lastName),e.orders.map((function(e){return r.a.createElement(\"div\",{key:e._id,className:\"my-2\"},r.a.createElement(\"h3\",null,new Date(parseInt(e.purchaseDate)).toLocaleDateString()),r.a.createElement(\"div\",{className:\"flex-row\"},e.products.map((function(e,t){var a=e._id,n=e.image,c=e.name,o=e.price;return r.a.createElement(\"div\",{key:t,className:\"card px-1 py-1\"},r.a.createElement(i.b,{to:\"/products/\".concat(a)},r.a.createElement(\"img\",{alt:c,src:\"/images/\".concat(n)}),r.a.createElement(\"p\",null,c)),r.a.createElement(\"div\",null,r.a.createElement(\"span\",null,\"$\",o)))}))))}))):null))},le=a(34),ue={products:[],categories:[],currentCategory:\"\",cart:[],cartOpen:!1},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"UPDATE_PRODUCTS\":return Object(d.a)(Object(d.a)({},e),{},{products:Object(P.a)(t.products)});case\"UPDATE_CATEGORIES\":return Object(d.a)(Object(d.a)({},e),{},{categories:Object(P.a)(t.categories)});case\"UPDATE_CURRENT_CATEGORY\":return Object(d.a)(Object(d.a)({},e),{},{currentCategory:t.currentCategory});case\"ADD_TO_CART\":return Object(d.a)(Object(d.a)({},e),{},{cartOpen:!0,cart:[].concat(Object(P.a)(e.cart),[t.product])});case\"ADD_MULTIPLE_TO_CART\":return Object(d.a)(Object(d.a)({},e),{},{cart:[].concat(Object(P.a)(e.cart),Object(P.a)(t.products))});case\"REMOVE_FROM_CART\":var a=e.cart.filter((function(e){return e._id!==t._id}));return Object(d.a)(Object(d.a)({},e),{},{cartOpen:a.length>0,cart:a});case\"UPDATE_CART_QUANTITY\":return Object(d.a)(Object(d.a)({},e),{},{cartOpen:!0,cart:e.cart.map((function(e){return t._id===e._id&&(e.purchaseQuantity=t.purchaseQuantity),e}))});case\"CLEAR_CART\":return Object(d.a)(Object(d.a)({},e),{},{cartOpen:!1,cart:[]});case\"TOGGLE_CART\":return Object(d.a)(Object(d.a)({},e),{},{cartOpen:!e.cartOpen});default:return e}},me=Object(le.b)(se),de=new s.a({request:function(e){var t=localStorage.getItem(\"id_token\");e.setContext({headers:{authorization:t?\"Bearer \".concat(t):\"\"}})},uri:\"/graphql\"});var pe=function(){return r.a.createElement(u.a,{client:de},r.a.createElement(i.a,null,r.a.createElement(\"div\",null,r.a.createElement(f.a,{store:me},r.a.createElement(ce,null),r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:\"/\",component:B}),r.a.createElement(l.a,{exact:!0,path:\"/login\",component:ne}),r.a.createElement(l.a,{exact:!0,path:\"/signup\",component:re}),r.a.createElement(l.a,{exact:!0,path:\"/orderHistory\",component:ie}),r.a.createElement(l.a,{exact:!0,path:\"/products/:id\",component:H}),r.a.createElement(l.a,{exact:!0,path:\"/success\",component:oe}),r.a.createElement(l.a,{component:J}))))))},fe=Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ee(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){\"installed\"===a.state&&(navigator.serviceWorker.controller?(console.log(\"New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA.\"),t&&t.onUpdate&&t.onUpdate(e)):(console.log(\"Content is cached for offline use.\"),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error(\"Error during service worker registration:\",e)}))}o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(pe,null)),document.getElementById(\"root\")),function(e){if(\"serviceWorker\"in navigator){if(new URL(\"\",window.location.href).origin!==window.location.origin)return;window.addEventListener(\"load\",(function(){var t=\"\".concat(\"\",\"/service-worker.js\");fe?(!function(e,t){fetch(e,{headers:{\"Service-Worker\":\"script\"}}).then((function(a){var n=a.headers.get(\"content-type\");404===a.status||null!=n&&-1===n.indexOf(\"javascript\")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ee(e,t)})).catch((function(){console.log(\"No internet connection found. App is running in offline mode.\")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log(\"This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA\")}))):Ee(t,e)}))}}()}},[[53,1,2]]]);","extractedComments":[]}